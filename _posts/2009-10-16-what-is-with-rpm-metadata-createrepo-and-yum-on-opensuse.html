---
layout: post
title: What is with rpm-metadata (createrepo) and yum on openSUSE?
date: 2009-10-16 10:40:00.000000000 +02:00
type: post
published: true
status: publish
categories: []
tags:
- newsuse
- software
- suse
meta:
  posterous_6c96d52da40a5d7e34be538822acc826_post_id: '48564080'
  posterous_6c96d52da40a5d7e34be538822acc826_permalink: http://duncan.mac-vicar.com/what-is-with-rpm-metadata-createrepo-and-yum
  _oembed_d952844091c7805f0ba2205a842b8328: "{{unknown}}"
  _oembed_d8be1725c0500262470c79a69431a2d9: "{{unknown}}"
author:
  login: duncan
  email: dmacvicar@gmail.com
  display_name: duncan
  first_name: Duncan
  last_name: Mac-Vicar P.
---

<p>Long time ago, I wrote about <a href="http://duncan.mac-vicar.com/blog/archives/314">our interoperability efforts</a> built around <a href="http://lists.baseurl.org/mailman/listinfo/rpm-metadata">rpm-metadata</a> format and first-class PackageKit support.</p>
<p>On the rpm-metadata side however, even if we depend a lot on these tools, the situation was far from ideal:</p>
<ul>
<li>We need usually extensions to the rpm-metadata to support the features that make the openSUSE software management more powerful compared to other tools</li>
<li>We are in continuous talk with the <a href="http://yum.baseurl.org/">yum</a> team to make those extensions common so they can be standardized instead of staying in suseinfo/susedata.xml</li>
<li>Some of those extensions got implemented, in <a href="http://createrepo.baseurl.org/">createrepo</a> 0.9.x</li>
<li>We are stuck with <a href="http://createrepo.baseurl.org/">createrepo</a> 0.4.x plus a high stack of patches</li>
<li> <a href="http://createrepo.baseurl.org/">createrepo</a> 0.9.x requires a recent <a href="http://yum.baseurl.org/">yum</a> </li>
<li>yum on openSUSE is unmaintained, and not included in the distribution</li>
<li> <a href="http://build.opensuse.org/">openSUSE Build Service</a> and other infrastructure depend on a proven createrepo (which means they depend on the custom patches)</li>
</ul>
<p>This situation won&rsquo;t sustain in the long term, so the following action plan was agreed between various stakeholders:</p>
<ul>
<li>we will update yum and <a href="http://createrepo.baseurl.org/">createrepo</a> to the upstream latest versions, and maintain them in [the system:packagemanager] project</li>
<li>all patches except a couple were discarded, so don&rsquo;t expect those versions to work flawlessly for now, we will reevaluate them one by one, upstream them or discard them</li>
<li> <a href="http://www.opensuse.org/">openSUSE</a> infrastructure will freeze their production version from our project once the newer versions work, instead of maintaining a fork</li>
<li>as we don&rsquo;t want to include yum in the default package selection, but <a href="http://createrepo.baseurl.org/">createrepo</a> depends on it, yum was split in yum and yum-common (libraries).</li>
<li>yum is still available in the <a href="https://build.opensuse.org/project/show?project=system%3Apackagemanager">system:packagemanager</a>, and will be kept up-to-date. We are interested in competition, as it makes the [ZYpp][10] team work harder
<div class="p_embed p_image_embed">
<img alt="" src="{{ site.baseurl }}/assets/icon_smile.gif" />
</div>
</li>
<li>I will improve <a href="http://en.opensuse.org/Enhancerepo">enhancerepo</a> (for custom tag extensions generation) and include it in this project in a near future</li>
<li>Most patches in the current packages were one liner fixes where the developer did not spent 5 minutes to upstream it. This attitude created a uncomfortable patch mess. We will change this by upstreaming fixes or just rejecting having those patches in the package.</li>
</ul>
<p>If you use <a href="http://createrepo.baseurl.org/">createrepo</a> or yum in your infrastructure, we invite you to contribute to this project! <a href="http://yum.baseurl.org/wiki/whatsnew/3.2.25">yum-3.2.25 was released</a> a couple of days ago, and it is already available there.</p>
<p>[10]: <a href="http://en.opensuse.org/Libzypp">http://en.opensuse.org/Libzypp</a></p>
