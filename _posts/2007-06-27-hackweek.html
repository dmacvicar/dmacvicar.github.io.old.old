---
layout: post
title: Hackweek
date: 2007-06-27 04:42:26.000000000 +02:00
type: post
published: true
status: publish
categories: []
tags:
- newsuse
- ruby
- suse
meta:
  posterous_6c96d52da40a5d7e34be538822acc826_post_id: '48644202'
  posterous_6c96d52da40a5d7e34be538822acc826_permalink: http://duncan.mac-vicar.com/hackweek
  _oembed_764a575c105e015c336cb7796b04a18f: "{{unknown}}"
  _oembed_26dfaaacc27db1cb89513b41a2a44cce: "{{unknown}}"
  _oembed_5c2e4195f0cd145ff008a7a8f643835a: "{{unknown}}"
  _oembed_ced51b3b42a2071c7f05cd2fb231500c: "{{unknown}}"
  _oembed_3ce4e5ba387f032a5b16efc70536dcda: "{{unknown}}"
  _oembed_502ade8cbe12895387693d6dce84bc66: "{{unknown}}"
  _oembed_3c41d87b52df14285e9fb1d32102f8c8: "{{unknown}}"
  _oembed_19884e8d568d3d9752339aa67723fb29: "{{unknown}}"
  _oembed_21e05b2166a594ecabe4d67c13789de4: "{{unknown}}"
  _oembed_0cf9ab5c1104c2a02c0b2bb0aa8e6797: "{{unknown}}"
  _oembed_54ad159f73b986920b9ac2c77a7a9d30: "{{unknown}}"
  _oembed_95c362a3d88013ae3f91b56c87981a89: "{{unknown}}"
author:
  login: duncan
  email: dmacvicar@gmail.com
  display_name: duncan
  first_name: Duncan
  last_name: Mac-Vicar P.
---
<p>
    So, it is Hackweek. Hundreds of Novell engineers working on the things they are passionate about. A full week of fully innovation and cooperation.</p>
<p>You can see the [flickr photos here][1]. [The ideas collected][2] (more [than 300][5], with a [hundred in progress][6]).</p>
<p>So what am I doing?<br />
[There are a few ideas for YaST][3]. YaST needs new light to evolve somewhere, and most of the ideas bring a step in this direction: Making it accessible from web services, other languages support, UI independence from the ycp language, etc.</p>
<p>YaST already has perl bindings and there are some modules written in Perl.</p>
<p>My project is [bidirectional ruby support for YaST][4], and it works already.</p>
<p>So, in Ruby you could write:</p>
<div class="CodeRay">
<div class="code">
<pre>module Foo
  def self.multiply_by_eight(a)
    return 8*a
  end

  def self.sum(a,b)
    return a+b;
  end</pre>
</div>
</div>
<p>And then in a .ycp file:</p>
<div class="CodeRay">
<div class="code">
<pre>{
    import &quot;Foo&quot;;
    integer result = (integer) Foo::sum(2,3);
    UI::OpenDialog(
         `VBox(
         `Label(sformat(&quot;%1&quot;, result)),
         `PushButton(&quot;OK&quot;)
         )
         );
    UI::UserInput();
    UI::CloseDialog();
}</pre>
</div>
</div>
<p>It works!!!!:</p>
<div class="p_embed p_image_embed">
<img alt="Media_httpimg46images_kgodz" height="80" src="{{ site.baseurl }}/assets/media_httpimg46images_kgodz-scaled500.png?w=62" width="62" />
</div>
<p>Now, we can do YaST in Ruby too, using the "yast" module for Ruby, lets try the Arch module from YaST (which is ycp code)</p>
<div class="CodeRay">
<div class="code">
<pre>require 'yast'

m = YaST::Module.new(&quot;Arch&quot;)
puts m.sparc32
puts m.arch_short
puts m.is_xen</pre>
</div>
</div>
<p>The output is:</p>
<div class="CodeRay">
<div class="code">
<pre>false
x86_64
false</pre>
</div>
</div>
<p>What about something more complex. The Storage module is a C++ library. In order to bind it easily with YaST and being able to use SWIG, YaST developers access it using the YaST perl-bindings to access the generated SWIG perl-bindings from the C++ library, so calling this from Ruby code would go from Ruby, to YCP, to Perl, to C++:</p>
<div class="CodeRay">
<div class="code">
<pre>m = YaST::Module.new(&quot;Storage&quot;)
dp = m.GetDiskPartition(&quot;/dev/sda1&quot;)
dp.each do | key, value |
  puts &quot;#{key} #{value}&quot;
end</pre>
</div>
</div>
<p>The output is:</p>
<div class="CodeRay">
<div class="code">
<pre>nr 1
disk /dev/sda</pre>
</div>
</div>
<p>I also tried to access the UI, but it does not work. Martin Vidner told me he is working on getting rid of this limitation. SCR access should be doable but I haven't look at it yet.</p>
<p>I will decide tomorrow if I tune the code or I spend my 2 days left (I travel to aKademy on Friday) researching other stuff (probably I will spend it on YaST too).</p>
<p> [1]: <a href="http://www.flickr.com/groups/hackweek/pool/">http://www.flickr.com/groups/hackweek/pool/</a><br />
 [2]: <a href="http://idea.opensuse.org">http://idea.opensuse.org</a><br />
 [3]: <a href="http://idea.opensuse.org/content/?do=search&amp;id=yast">http://idea.opensuse.org/content/?do=search&amp;id=yast</a><br />
 [4]: <a href="http://idea.opensuse.org/content/ideas/make-yast-modules-accessible-from-other-languages-than-perl">http://idea.opensuse.org/content/ideas/make-yast-modules-accessible-from-othe...</a><br />
 [5]: <a href="http://idea.opensuse.org/content/tag/idea">http://idea.opensuse.org/content/tag/idea</a><br />
 [6]: <a href="http://idea.opensuse.org/content/tag/inprogress">http://idea.opensuse.org/content/tag/inprogress</a></p>
